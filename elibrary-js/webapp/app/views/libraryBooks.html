<section class="content-header">
    <h1>
        eLibrary
        <small>display all books</small>
    </h1>
    <ol class="breadcrumb">
        <li><a ui-sref='admin'><i class="fa fa-dashboard"></i> Home</a></li>
        <li class="active">View Books</li>
    </ol>
</section>

<section class="content">
    <div class="row">
        <!-- TODO search book -->
        <form class="sidebar-form">
            <div class="input-group">
                <input type="text" name="q" class="form-control" placeholder="Search by isbn, title or author name...">
                <span class="input-group-btn">
                <button type="submit" name="search" id="search-btn" class="btn btn-flat"><i class="fa fa-search"></i>
                </button>
                </span>
            </div>
        </form>
    </div>
    <div class="row">
        <table id="libraryBooks" class="table table-bordered table-hover dataTable" role="grid">
            <thead>
            <tr>
                <th>ISBN</th>
                <th>Title</th>
                <th>Author Names</th>
                <th></th>
            </tr>
            <tr>

            </tr>
            </thead>
            <tbody data-ng-repeat="book in libraryBooks">
            <tr>
                <td><a ui-sref="bookDetails({id: book.id})">{{book.isbn}}</a></td>
                <td>{{book.title}}</td>
                <td data-ng-repeat="author in book.bookAuthors"><a ui-sref="authorBooks({authorName: author.firstName + ' ' + author.lastName})">
                    {{author.firstName + ' ' + author.lastName}}</a>
                </td>
                <td>
                <button ui-sref="updateBook({id: book.id})" class="btn btn-xs center-block btn-primary"
                            ng-click="vm.editBook(book.id)"
                            data-toggle="confirmation" data-popout="true">
                        <i class="fa fa-check-square-o"></i> Edit
                    </button>
                </td>
                <td>
                    <button ng-click="vm.delete(book.id)" class="btn btn-xs center-block btn-danger">
                        <i class="fa fa-check-square-o"></i> Delete
                    </button>
                </td>
            </tr>

            </tbody>
        </table>
    </div>
</section>